import time
import random
import matplotlib.pyplot as plt
import numpy as np
from random import randrange, uniform

search_small_times = [0.000025, 0.000012, 0.000016, 0.000013, 0.000009, 0.000010, 0.000009, 0.000009, 0.000009, 0.000009, 0.000009, 0.000009, 0.000008, 0.000011, 0.000010, 0.000010, 0.000010, 0.000009, 0.000009, 0.000010, 0.000009, 0.000009, 0.000010, 0.000011, 0.000010, 0.000008, 0.000010,
                      0.000010, 0.000009, 0.000013, 0.000015, 0.000010, 0.000013, 0.000007, 0.000011, 0.000009, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007]
search_large_times = [0.000026, 0.000013, 0.000006, 0.000009, 0.000009, 0.000016, 0.000008, 0.000009, 0.000008, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000012, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000011, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000011, 0.000005, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000008, 0.000008, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000010, 0.000010, 0.000011, 0.000011, 0.000010, 0.000010, 0.000010, 0.000010, 0.000010, 0.000010, 0.000011, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000009, 0.000008, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000026, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007,
                      0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000008, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000006, 0.000007, 0.000011, 0.000011, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000006, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000006, 0.000007, 0.000006, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000006, 0.000007, 0.000007, 0.000007, 0.000006, 0.000006, 0.000006, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000007, 0.000007, 0.000007, 0.000007, 0.000008, 0.000007, 0.000008, 0.000007, 0.000000]

blender_fake_times = [0.000002, 0.000001, 0.000001, 0.000001, 0.000001,
                      0.000001, 0.000001, 0.000001, 0.000001, 0.000001, 0.000001, 0.000001, 0.000000]

blender_found_times = [0.245951, 0.000003, 0.000001,
                       0.000000, 0.000001, 0.000001, 0.000001, 280.475412]


def function_to_be_timed(type='none', lo=0.0, hi=1.0):
    if type == 'random':
        time.sleep(random.random())
    else:
        time.sleep(random.random() * (hi - lo) + lo)


def fake_generator(iter):
    return uniform(max(0, iter-15), iter+15)


# this functon normalizes all the values in the list to sum to 1
def normalize_c(values):
    total = sum(values)
    result = []
    for value in values:
        result.append(value / total)
    return result


def benchmark(iterations):
    times = []
    for i in range(iterations):
        # start_time = time.time()
        elapsed_time = fake_generator(i)
        # end_time = time.time()
        # elapsed_time = end_time - start_time
        # print(f"Iteration {i+1} took {elapsed_time:.6f} seconds.")
        times.append(elapsed_time)
    return normalize_c(times)


# this function plots a bar graph of the array passed into it
def plot(bars):
    plt.figure(3)
    times = benchmark(bars)
    plt.bar(np.arange(len(times)), times)


def plot_search_small():
    plt.figure(2)
    arr = normalize_c(search_small_times)
    plt.bar(np.arange(len(arr)), arr)
    plt.ylabel("Percent of time in iteration")
    plt.xlabel("Iteration number")
    plt.title("stringsearch with small input (n = 57)")


def plot_search_large():
    plt.figure(1)
    arr = normalize_c(search_large_times)
    plt.bar(np.arange(len(arr)), arr)
    plt.ylabel("Percent of time in iteration")
    plt.xlabel("Iteration number")
    plt.title("stringsearch with large input (n = 1333)")


if __name__ == "__main__":
    print("Running...")
    # plot_search_small()
    # plot_search_large()
    plot(100)
    plt.show()
